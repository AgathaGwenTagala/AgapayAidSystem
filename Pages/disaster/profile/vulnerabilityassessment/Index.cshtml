@page
@model AgapayAidSystem.Pages.disaster.profile.vulnerabilityassessment.IndexModel
@{
	ViewData["Title"] = "Vulnerability Assessment";
}

<div class="container-fluid">

	<!--SIDEBAR-->

	<!-- Page Content -->
	<div class="col-md-9 ms-sm-auto col-lg-10 px-md-4 pb-3 pt-3">
		<div class="container p-2">
			<!-- Breadcrumb -->
			<div class="row pb-2" aria-label="breadcrumb">
				<nav style="--bs-breadcrumb-divider: '/';" aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/index"><i class="bi bi-house-door-fill" style="padding: 5px;"></i>Home</a></li>
						<li class="breadcrumb-item"><a href="/disaster/index">Disaster</a></li>
						<li class="breadcrumb-item"><a href="/disaster/profile"></a>Typhoon Pedro</li>
						<li class="breadcrumb-item active"><a><strong>Sample Evacuation Center</strong></a></li>
					</ol>
				</nav>
			</div>

			<div class="row pb-2">
				<div class="col-12 d-flex justify-content-between align-items-center" style="gap: 5px">
					<div class="d-flex align-items-center">
						<h1>Vulnerability Assessment</h1>
					</div>

					<a id="addPack" class="btn btn-primary mb-2" href="/disaster/profile/vulnerabilityassessment/Add">
						<i class="bi bi-plus-circle pt" style="padding: 5px;"></i> Add Assessment
					</a>
				</div>
			</div>

			<!-- Table -->
			<div class="table-responsive pt-3">
				<table class="table align-middle table-hover" style="width:100%">
					<thead>
						<tr>
							<th>ID</th>
							<th>Family ID</th>
							<th>Total VA Score</th>
							<th>Vulnerability Level</th>
							<th>      </th>
						</tr>
					</thead>
					<tbody>
						<tr class="data-row clickable-row">
							<td>AMT00000150</td>
							<td>FML0000001</td>
							<td>9</td>
							<td>Low</td>
							<td width="10%">
								<div class="d-inline position-relative">
									<a href="#" role="button" id="recordOptions" data-bs-toggle="dropdown" aria-expanded="false">
										<i class="bi bi-three-dots-vertical"></i>
									</a>
									<ul class="dropdown-menu" aria-labelledby="recordOptions">
										<li><a class="dropdown-item" href="#" onclick="confirmDelete();">Delete</a></li>
									</ul>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div>
				<p>
					This vulnerability assessment form is sourced from Memorandum Circular No. 13, Series of 2021, Guidelines in the Implementation of Relief Aid thru Cash Voucher in Disasters and Emergencies (RACVoDE) and is provided here for reference and attribution purposes on our website.
				</p>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Confirm Delete -->
<div class="modal" id="deleteConfirmationModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Confirm Delete</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				Are you sure you want to delete this vulnerability assessment record?
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-danger" id="confirmDeleteButton">Delete</button>
			</div>
		</div>
	</div>
</div>

<!-- Making the table responsive -->
<script>
	$(document).ready(function () {
		$('#reliefpack-table').DataTable({
			responsive: true,
			columnDefs: [
				{ "orderable": true, "targets": [1, 2, 3] }, // Sortable columns
				{ "orderable": false, "targets": [0, 4, 5] } // Non-sortable columns
			]
		});
	});
</script>