@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@page
@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Mvc.RazorPages
@inject IConfiguration Configuration

@{
    string errorMessage = "";
    string successMessage = "";

    try
    {
        // Clear the user's session
        HttpContext.Session.Clear();

        successMessage = "Logout successful!";
    }
    catch (Exception ex)
    {
        errorMessage = ex.Message;
    }

    // Redirect to the Index page after logout or encountering an error
    Response.Redirect("/index?errorMessage=" + errorMessage + "&successMessage=" + successMessage);
}
